{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    {% if not posts %}
    <h1 class="mb-4">Pholog에 오신것을 환영합니다!</h1>
    <p class="mb-4">Pholog는 "Photo + Log"의 줄임말로, 사용자들끼리 사진과 일상을 공유하는 공간입니다.</p>
    {% endif %}
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
        {% for post in posts %}
            {% for image in post.images.all %}
                <div class="col">
                    <a href="{% url "post_detail" post.pk %}">
                        <div class="card h-100">
                            {% if image.image %}
                                <img src="{{ image.image.url }}" class="card-img-top img-fluid" alt="{{ post.title }}" style="object-fit: cover; height: 300px;">
                            {% else %}
                                <img src="https://cdn.pixabay.com/photo/2015/06/19/21/24/avenue-815297_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                            {% endif %}
                        </div>
                    </a>
                </div>
            {% endfor %}
        {% empty %}
            <!-- 포스트가 없을 때 표시될 기본 이미지 -->
            <div class="col">
                <div class="card h-100">
                    <img src="https://cdn.pixabay.com/photo/2015/06/19/21/24/avenue-815297_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="https://cdn.pixabay.com/photo/2016/09/21/04/46/barley-field-1684052_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="https://cdn.pixabay.com/photo/2014/08/15/11/29/beach-418742_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="https://cdn.pixabay.com/photo/2024/02/21/15/09/road-8587889_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="https://cdn.pixabay.com/photo/2024/02/18/15/59/sea-8581529_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="https://cdn.pixabay.com/photo/2023/11/01/11/16/lake-8357182_1280.jpg" class="card-img-top img-fluid" alt="Default Image" style="object-fit: cover; height: 300px;">
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}